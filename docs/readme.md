# ANSA Mesh Optimizer (å¢å¼ºç‰ˆæœ¬)

ä¸€ä¸ªç”¨äºANSAæœ‰é™å…ƒç½‘æ ¼å‚æ•°ä¼˜åŒ–çš„é«˜çº§å·¥å…·é›†ï¼Œæ”¯æŒå¤šç§ä¼˜åŒ–ç®—æ³•å’Œæ™ºèƒ½åŒ–å‚æ•°è°ƒä¼˜ã€‚

![Version](https://img.shields.io/badge/version-1.2.0-blue.svg)
![Python](https://img.shields.io/badge/python-3.7+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

## ğŸš€ é¡¹ç›®ç®€ä»‹

ANSA Mesh Optimizer æ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºANSAæœ‰é™å…ƒåˆ†æè½¯ä»¶è®¾è®¡çš„ç½‘æ ¼å‚æ•°ä¼˜åŒ–å·¥å…·ã€‚é€šè¿‡é›†æˆå¤šç§å…ˆè¿›çš„ä¼˜åŒ–ç®—æ³•ï¼Œè‡ªåŠ¨æœç´¢æœ€ä¼˜çš„ç½‘æ ¼å‚æ•°ç»„åˆï¼Œä»¥æœ€å°åŒ–ä¸åˆæ ¼ç½‘æ ¼å•å…ƒæ•°é‡ï¼Œæé«˜ç½‘æ ¼è´¨é‡å’Œåˆ†æç²¾åº¦ã€‚

### ğŸ¯ ä¸»è¦ç›®æ ‡

- **è‡ªåŠ¨åŒ–ä¼˜åŒ–**: è‡ªåŠ¨æœç´¢æœ€ä¼˜ç½‘æ ¼å‚æ•°ï¼Œå‡å°‘æ‰‹åŠ¨è°ƒå‚æ—¶é—´
- **å¤šç®—æ³•æ”¯æŒ**: æä¾›è´å¶æ–¯ä¼˜åŒ–ã€é—ä¼ ç®—æ³•ã€éšæœºæœç´¢ç­‰å¤šç§ä¼˜åŒ–ç­–ç•¥
- **æ™ºèƒ½ç¼“å­˜**: é¿å…é‡å¤è®¡ç®—ï¼Œæé«˜ä¼˜åŒ–æ•ˆç‡
- **å¯è§†åŒ–åˆ†æ**: ç”Ÿæˆè¯¦ç»†çš„ä¼˜åŒ–æŠ¥å‘Šå’Œå¯è§†åŒ–å›¾è¡¨
- **æ˜“äºé›†æˆ**: æ”¯æŒå‘½ä»¤è¡Œå’ŒPython APIä¸¤ç§ä½¿ç”¨æ–¹å¼

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ”§ ä¼˜åŒ–ç®—æ³•
- **è´å¶æ–¯ä¼˜åŒ–** - åŸºäºé«˜æ–¯è¿‡ç¨‹çš„æ™ºèƒ½æœç´¢
- **é—ä¼ ç®—æ³•** - å…·æœ‰è‡ªé€‚åº”å˜å¼‚å’Œå¤šæ ·æ€§ä¿æŒ
- **éšæœºæ£®æ—ä¼˜åŒ–** - åŸºäºå†³ç­–æ ‘çš„ä¼˜åŒ–ç­–ç•¥
- **éšæœºæœç´¢** - ç®€å•å¿«é€Ÿçš„åŸºçº¿æ–¹æ³•
- **å¹¶è¡Œä¼˜åŒ–** - å¤šè¿›ç¨‹å¹¶è¡Œå‚æ•°æœç´¢

### ğŸ› ï¸ æ™ºèƒ½åŠŸèƒ½
- **æ—©åœæœºåˆ¶** - è‡ªåŠ¨æ£€æµ‹æ”¶æ•›ï¼Œé¿å…è¿‡åº¦ä¼˜åŒ–
- **å‚æ•°éªŒè¯** - ç¡®ä¿å‚æ•°åœ¨åˆç†èŒƒå›´å†…
- **ç»“æœç¼“å­˜** - æ™ºèƒ½ç¼“å­˜é¿å…é‡å¤è®¡ç®—
- **æ•æ„Ÿæ€§åˆ†æ** - åˆ†æå‚æ•°å¯¹ç»“æœçš„å½±å“ç¨‹åº¦
- **å†…å­˜ä¼˜åŒ–** - é«˜æ•ˆçš„å†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶

### ğŸ“Š åˆ†æå·¥å…·
- **ä¼˜åŒ–å™¨æ¯”è¾ƒ** - å¤šç®—æ³•æ€§èƒ½å¯¹æ¯”åˆ†æ
- **æ”¶æ•›æ€§åˆ†æ** - ä¼˜åŒ–è¿‡ç¨‹å¯è§†åŒ–
- **ç»Ÿè®¡åˆ†æ** - è¯¦ç»†çš„ç»Ÿè®¡æŒ‡æ ‡å’ŒæŠ¥å‘Š
- **å‚æ•°é‡è¦æ€§** - è¯†åˆ«å…³é”®å‚æ•°

### ğŸŒ è·¨å¹³å°æ”¯æŒ
- **Windows** - è‡ªåŠ¨æ£€æµ‹å¾®è½¯é›…é»‘ã€é»‘ä½“ç­‰å­—ä½“
- **macOS** - æ”¯æŒå†¬é’é»‘ä½“ã€è‹¹æ–¹ç­‰ç³»ç»Ÿå­—ä½“
- **Linux** - å…¼å®¹æ–‡æ³‰é©¿ã€æ€æºé»‘ä½“ç­‰å¼€æºå­—ä½“

## ğŸ“‹ å®‰è£…è¦æ±‚

### å¿…éœ€ä¾èµ–
```bash
python >= 3.7
numpy >= 1.19.0
```

### å¯é€‰ä¾èµ–ï¼ˆæ¨èå®‰è£…ï¼‰
```bash
# è´å¶æ–¯ä¼˜åŒ–æ”¯æŒ
pip install scikit-optimize

# æ•°æ®åˆ†æå’Œå¯è§†åŒ–
pip install pandas matplotlib seaborn

# ç§‘å­¦è®¡ç®—
pip install scipy

# æ€§èƒ½ç›‘æ§
pip install psutil
```

### å¿«é€Ÿå®‰è£…
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd ansa-mesh-optimizer

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# éªŒè¯å®‰è£…
python main.py info --check-deps
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åŸºæœ¬ä¼˜åŒ–
```bash
# ä½¿ç”¨è´å¶æ–¯ä¼˜åŒ–ï¼ˆæ¨èï¼‰
python main.py optimize --optimizer bayesian --n-calls 30 --evaluator mock

# ä½¿ç”¨é—ä¼ ç®—æ³•
python main.py optimize --optimizer genetic --n-calls 50 --evaluator mock
```

### 2. ä¼˜åŒ–å™¨æ¯”è¾ƒ
```bash
# æ¯”è¾ƒå¤šä¸ªä¼˜åŒ–å™¨æ€§èƒ½
python main.py compare --optimizers bayesian random genetic --n-calls 20 --n-runs 3
```

### 3. ä½¿ç”¨çœŸå®ANSAç¯å¢ƒ
```bash
# ç¡®ä¿ANSAç¯å¢ƒå¯ç”¨
python main.py info --check-ansa

# è¿è¡ŒçœŸå®ä¼˜åŒ–
python main.py optimize --optimizer bayesian --evaluator ansa --config my_config.json
```

## ğŸ“– è¯¦ç»†ä½¿ç”¨æŒ‡å—

### å‘½ä»¤è¡Œç•Œé¢

#### ä¸»è¦å‘½ä»¤

| å‘½ä»¤ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| `optimize` | è¿è¡Œå•ä¸ªä¼˜åŒ–å™¨ | `python main.py optimize --optimizer bayesian` |
| `compare` | æ¯”è¾ƒå¤šä¸ªä¼˜åŒ–å™¨ | `python main.py compare --optimizers bayesian genetic` |
| `config` | é…ç½®ç®¡ç† | `python main.py config generate` |
| `info` | ç³»ç»Ÿä¿¡æ¯ | `python main.py info --check-deps` |
| `test` | è¿è¡Œæµ‹è¯• | `python main.py test --quick` |

#### optimize å‘½ä»¤å‚æ•°

```bash
python main.py optimize [OPTIONS]

é€‰é¡¹:
  --optimizer {bayesian,random,forest,genetic,parallel}
                        ä¼˜åŒ–å™¨ç±»å‹ (é»˜è®¤: bayesian)
  --evaluator {ansa,mock,mock_ackley,mock_rastrigin}
                        è¯„ä¼°å™¨ç±»å‹ (é»˜è®¤: mock)
  --n-calls INTEGER     ä¼˜åŒ–è¿­ä»£æ¬¡æ•° (é»˜è®¤: 20)
  --n-initial-points INTEGER
                        åˆå§‹éšæœºç‚¹æ•°é‡ (é»˜è®¤: 5)
  --random-state INTEGER
                        éšæœºç§å­ (é»˜è®¤: 42)
  --no-cache           ç¦ç”¨ç¼“å­˜
  --no-early-stopping  ç¦ç”¨æ—©åœ
  --no-sensitivity     ç¦ç”¨æ•æ„Ÿæ€§åˆ†æ
  --output PATH        ç»“æœè¾“å‡ºæ–‡ä»¶è·¯å¾„
  --save-plots         ä¿å­˜ä¼˜åŒ–å›¾è¡¨
```

#### compare å‘½ä»¤å‚æ•°

```bash
python main.py compare [OPTIONS]

é€‰é¡¹:
  --optimizers {bayesian,random,forest,genetic,parallel} [...]
                        è¦æ¯”è¾ƒçš„ä¼˜åŒ–å™¨åˆ—è¡¨
  --n-calls INTEGER    æ¯ä¸ªä¼˜åŒ–å™¨çš„è¿­ä»£æ¬¡æ•° (é»˜è®¤: 20)
  --n-runs INTEGER     æ¯ä¸ªä¼˜åŒ–å™¨çš„è¿è¡Œæ¬¡æ•° (é»˜è®¤: 3)
  --parallel-runs      å¹¶è¡Œè¿è¡Œæ¯”è¾ƒï¼ˆå®éªŒæ€§ï¼‰
  --no-report          ç¦ç”¨è¯¦ç»†æŠ¥å‘Šç”Ÿæˆ
```

### Python API

#### åŸºæœ¬ä½¿ç”¨

```python
from ansa_mesh_optimizer_improved import optimize_mesh_parameters, MeshOptimizer
from compare_optimizers_improved import compare_optimizers

# å•æ¬¡ä¼˜åŒ–
result = optimize_mesh_parameters(
    n_calls=30,
    optimizer='bayesian',
    evaluator_type='mock',
    use_cache=True
)

print(f"æœ€ä½³å‚æ•°: {result['best_params']}")
print(f"æœ€ä½³å€¼: {result['best_value']:.6f}")

# ä¼˜åŒ–å™¨æ¯”è¾ƒ
comparison = compare_optimizers(
    optimizers=['bayesian', 'genetic', 'random'],
    n_calls=20,
    n_runs=3,
    evaluator_type='mock'
)

print(f"æ¨èä¼˜åŒ–å™¨: {comparison['best_optimizer']}")
```

#### é«˜çº§ä½¿ç”¨

```python
from config import config_manager
from mesh_evaluator import create_mesh_evaluator

# è‡ªå®šä¹‰é…ç½®
config_manager.optimization_config.n_calls = 50
config_manager.optimization_config.early_stopping = True
config_manager.optimization_config.patience = 10

# åˆ›å»ºä¼˜åŒ–å™¨å®ä¾‹
optimizer = MeshOptimizer(
    config=config_manager.optimization_config,
    evaluator_type='ansa',
    use_cache=True
)

# æ‰§è¡Œä¼˜åŒ–
result = optimizer.optimize(optimizer='bayesian')

# æ•æ„Ÿæ€§åˆ†æ
sensitivity = optimizer.sensitivity_analysis(
    best_params=result['best_params'],
    n_trials=5
)

# ä¿å­˜ç»“æœ
optimizer.save_best_params('best_params.txt')
```
## ğŸ¨ ä¸­æ–‡å­—ä½“é…ç½®
æœ¬é¡¹ç›®å®Œç¾æ”¯æŒä¸­æ–‡å›¾è¡¨æ˜¾ç¤ºï¼Œè‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿå­—ä½“ï¼š
è‡ªåŠ¨é…ç½®
python# å­—ä½“ä¼šè‡ªåŠ¨é…ç½®ï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½®
from font_config import test_chinese_display

### æµ‹è¯•ä¸­æ–‡æ˜¾ç¤ºæ•ˆæœ
test_chinese_display()
ä½¿ç”¨è£…é¥°å™¨
pythonfrom font_decorator import with_chinese_font

@with_chinese_font
def my_plot_function():
    plt.title("ä¸­æ–‡æ ‡é¢˜")
    plt.xlabel("Xè½´æ ‡ç­¾")
    plt.ylabel("Yè½´æ ‡ç­¾")
    plt.show()
æ‰‹åŠ¨å®‰è£…å­—ä½“ï¼ˆå¦‚éœ€è¦ï¼‰
bash# è¿è¡Œå­—ä½“è¯Šæ–­
python font_diagnosis.py

### è‡ªåŠ¨å®‰è£…ä¸­æ–‡å­—ä½“
python install_chinese_fonts.py

## âš™ï¸ é…ç½®ç®¡ç†

### ç”Ÿæˆé»˜è®¤é…ç½®

```bash
# ç”Ÿæˆé»˜è®¤é…ç½®æ–‡ä»¶
python main.py config generate --output default_config.json

# ç”Ÿæˆç¤ºä¾‹é…ç½®æ–‡ä»¶
python main.py config generate --output example_config.json --example
```

### é…ç½®æ–‡ä»¶ç»“æ„

```json
{
  "optimization": {
    "n_calls": 50,
    "n_initial_points": 10,
    "optimizer": "bayesian",
    "early_stopping": true,
    "patience": 8,
    "use_cache": true,
    "sensitivity_analysis": true
  },
  "ansa": {
    "ansa_executable": "ansa",
    "input_model": "input_model.ansa",
    "min_element_length": 2.0,
    "max_element_length": 8.0,
    "execution_timeout": 300
  },
  "parameter_space": {
    "element_size": [0.5, 2.0],
    "mesh_density": [0.5, 8.0],
    "mesh_quality_threshold": [0.2, 1.0],
    "smoothing_iterations": [20, 80],
    "mesh_growth_rate": [0.5, 1.5],
    "mesh_topology": [1, 3]
  }
}
```

### é…ç½®éªŒè¯

```bash
# éªŒè¯é…ç½®æ–‡ä»¶
python main.py config validate my_config.json

# æ˜¾ç¤ºå½“å‰é…ç½®
python main.py config show

# æ˜¾ç¤ºç‰¹å®šé…ç½®èŠ‚
python main.py config show --section optimization
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
ansa-mesh-optimizer/
â”œâ”€â”€ ğŸ“ core/                          # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ ansa_mesh_optimizer_improved.py    # ä¸»ä¼˜åŒ–å™¨
â”‚   â”œâ”€â”€ genetic_optimizer_improved.py      # é—ä¼ ç®—æ³•
â”‚   â”œâ”€â”€ compare_optimizers_improved.py     # ä¼˜åŒ–å™¨æ¯”è¾ƒ
â”‚   â””â”€â”€ early_stopping.py                  # æ—©åœæœºåˆ¶
â”œâ”€â”€ ğŸ“ config/                         # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ config.py                          # é…ç½®æ¨¡å—
â”‚   â””â”€â”€ default_config.json               # é»˜è®¤é…ç½®
â”œâ”€â”€ ğŸ“ evaluators/                     # è¯„ä¼°å™¨
â”‚   â”œâ”€â”€ mesh_evaluator.py                 # ç½‘æ ¼è¯„ä¼°å™¨
â”‚   â””â”€â”€ batch_mesh_improved.py            # æ‰¹å¤„ç†è„šæœ¬
â”œâ”€â”€ ğŸ“ utils/                          # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ utils.py                          # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ optimization_cache.py             # ç¼“å­˜ç®¡ç†
â”‚   â”œâ”€â”€ font_config.py                    # å­—ä½“é…ç½®
â”‚   â””â”€â”€ font_decorator.py                 # å­—ä½“è£…é¥°å™¨
â”œâ”€â”€ ğŸ“ tests/                          # æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ test_decorator.py                 # è£…é¥°å™¨æµ‹è¯•
â”‚   â”œâ”€â”€ font_diagnosis.py                 # å­—ä½“è¯Šæ–­
â”‚   â””â”€â”€ fix_test.py                       # ä¿®å¤éªŒè¯
â”œâ”€â”€ ğŸ“„ main.py                         # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ ğŸ“„ requirements.txt                # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ ğŸ“„ README.md                       # é¡¹ç›®è¯´æ˜
â””â”€â”€ ğŸ“„ CHANGELOG.md                    # æ›´æ–°æ—¥å¿—
```

## ğŸ”§ æ¨¡å—è¯¦è§£

### MeshOptimizer (ä¸»ä¼˜åŒ–å™¨)
- æ”¯æŒå¤šç§ä¼˜åŒ–ç®—æ³•
- é›†æˆç¼“å­˜å’Œæ—©åœæœºåˆ¶
- è‡ªåŠ¨ç”Ÿæˆä¼˜åŒ–æŠ¥å‘Š
- å‚æ•°æ•æ„Ÿæ€§åˆ†æ

### ä¼˜åŒ–ç®—æ³•æ¨¡å—
- **è´å¶æ–¯ä¼˜åŒ–**: åŸºäºscikit-optimizeçš„é«˜æ•ˆæœç´¢
- **é—ä¼ ç®—æ³•**: è‡ªé€‚åº”å‚æ•°å’Œå¤šæ ·æ€§ä¿æŒ
- **éšæœºæœç´¢**: å¿«é€ŸåŸºçº¿æ–¹æ³•
- **å¹¶è¡Œä¼˜åŒ–**: å¤šè¿›ç¨‹å‚æ•°æœç´¢

### è¯„ä¼°å™¨æ¨¡å—
- **ANSAè¯„ä¼°å™¨**: çœŸå®ANSAç¯å¢ƒé›†æˆ
- **Mockè¯„ä¼°å™¨**: æµ‹è¯•å’Œå¼€å‘ç”¨æ¨¡æ‹Ÿå™¨
- **å¤šç§æµ‹è¯•å‡½æ•°**: Rosenbrock, Ackley, Rastriginç­‰

### ç¼“å­˜ç³»ç»Ÿ
- **æ–‡ä»¶ç¼“å­˜**: pickleæ ¼å¼æŒä¹…åŒ–å­˜å‚¨
- **æ•°æ®åº“ç¼“å­˜**: SQLiteæ•°æ®åº“å­˜å‚¨
- **æ™ºèƒ½æ¸…ç†**: è‡ªåŠ¨æ¸…ç†è¿‡æœŸç¼“å­˜
- **ç»Ÿè®¡ä¿¡æ¯**: å‘½ä¸­ç‡å’Œæ€§èƒ½ç›‘æ§

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ç¼“å­˜é…ç½®
```python
# å¯ç”¨å‹ç¼©ç¼“å­˜
cache = OptimizationCache(
    cache_file='cache.pkl.gz',
    use_compression=True,
    max_entries=10000
)

# ä½¿ç”¨æ•°æ®åº“ç¼“å­˜ï¼ˆå¤§é¡¹ç›®æ¨èï¼‰
cache = OptimizationCache(
    cache_file='cache.db',
    use_database=True
)
```

### 2. å¹¶è¡Œä¼˜åŒ–
```bash
# ä½¿ç”¨å¹¶è¡Œä¼˜åŒ–å™¨
python main.py optimize --optimizer parallel --n-calls 100

# å¹¶è¡Œæ¯”è¾ƒ
python main.py compare --parallel-runs --optimizers bayesian genetic
```

### 3. æ—©åœé…ç½®
```python
# è‡ªé€‚åº”æ—©åœ
config.adaptive_early_stopping = True
config.patience = 10
config.min_delta = 0.01
```

## ğŸ§ª æµ‹è¯•å’ŒéªŒè¯

### è¿è¡Œæµ‹è¯•å¥—ä»¶

```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
python main.py test

# å¿«é€Ÿæµ‹è¯•
python main.py test --quick

# å­—ä½“åŠŸèƒ½æµ‹è¯•
python test_decorator.py

# å®Œæ•´æµ‹è¯•
python main.py test --evaluator mock --verbose-test

# æ€§èƒ½æµ‹è¯•
python main.py info --performance
```

### ç³»ç»Ÿæ£€æŸ¥

```bash
# æ£€æŸ¥ä¾èµ–åº“
python main.py info --check-deps

# æ£€æŸ¥ANSAç¯å¢ƒ
python main.py info --check-ansa

# å®Œæ•´ç³»ç»Ÿä¿¡æ¯
python main.py info --check-deps --check-ansa --performance
```

## ğŸ“ˆ ç¤ºä¾‹å’Œç”¨ä¾‹

### ç¤ºä¾‹1: åŸºæœ¬ä¼˜åŒ–å·¥ä½œæµç¨‹

```python
# 1. è®¾ç½®é…ç½®
from config import config_manager

config_manager.optimization_config.n_calls = 30
config_manager.optimization_config.use_cache = True

# 2. è¿è¡Œä¼˜åŒ–
from ansa_mesh_optimizer_improved import optimize_mesh_parameters

result = optimize_mesh_parameters(
    optimizer='bayesian',
    evaluator_type='mock'
)

# 3. åˆ†æç»“æœ
print(f"æœ€ä¼˜å‚æ•°: {result['best_params']}")
print(f"ç›®æ ‡å€¼: {result['best_value']:.6f}")
print(f"æ‰§è¡Œæ—¶é—´: {result['execution_time']:.2f}ç§’")
```

### ç¤ºä¾‹2: ä¼˜åŒ–å™¨æ€§èƒ½æ¯”è¾ƒ

```python
from compare_optimizers_improved import compare_optimizers

# æ¯”è¾ƒå¤šç§ä¼˜åŒ–å™¨
results = compare_optimizers(
    optimizers=['bayesian', 'genetic', 'random'],
    n_calls=25,
    n_runs=5,
    evaluator_type='mock_ackley'
)

# æŸ¥çœ‹æœ€ä½³ä¼˜åŒ–å™¨
best_opt = results['best_optimizer']
best_info = results['best_optimizer_info']

print(f"æ¨èä¼˜åŒ–å™¨: {best_opt}")
print(f"å¹³å‡æ€§èƒ½: {best_info['mean_best_value']:.6f}")
print(f"ç¨³å®šæ€§: {best_info['std_best_value']:.6f}")
```

### ç¤ºä¾‹3: è‡ªå®šä¹‰é—ä¼ ç®—æ³•

```python
from genetic_optimizer_improved import GeneticOptimizer, GeneticConfig
from mesh_evaluator import create_mesh_evaluator
from config import config_manager

# è‡ªå®šä¹‰é—ä¼ ç®—æ³•é…ç½®
genetic_config = GeneticConfig(
    population_size=50,
    max_generations=100,
    mutation_rate=0.1,
    crossover_rate=0.8,
    adaptive_mutation=True,
    diversity_preservation=True
)

# åˆ›å»ºä¼˜åŒ–å™¨
evaluator = create_mesh_evaluator('mock')
optimizer = GeneticOptimizer(
    param_space=config_manager.parameter_space,
    evaluator=evaluator,
    genetic_config=genetic_config
)

# è¿è¡Œä¼˜åŒ–
result = optimizer.optimize(n_calls=500)

# ç»˜åˆ¶è¿›åŒ–è¿‡ç¨‹
optimizer.plot_evolution('evolution.png')
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ANSAä¸å¯ç”¨**
   ```bash
   # æ£€æŸ¥ANSAç¯å¢ƒ
   python main.py info --check-ansa
   
   # ä½¿ç”¨æ¨¡æ‹Ÿè¯„ä¼°å™¨
   python main.py optimize --evaluator mock
   ```

2. **ç¼ºå°‘ä¾èµ–åº“**
   ```bash
   # æ£€æŸ¥ä¾èµ–
   python main.py info --check-deps
   
   # å®‰è£…å®Œæ•´ä¾èµ–
   pip install scikit-optimize matplotlib pandas seaborn scipy
   ```

3. **å†…å­˜ä¸è¶³**
   ```python
   # å‡å°‘ç¼“å­˜å¤§å°
   cache = OptimizationCache(max_entries=1000)
   
   # ä½¿ç”¨æ–‡ä»¶ç¼“å­˜è€Œéå†…å­˜
   config.use_cache = True
   ```

4. **ä¼˜åŒ–æ”¶æ•›æ…¢**
   ```python
   # å¯ç”¨æ—©åœ
   config.early_stopping = True
   config.patience = 5
   
   # ä½¿ç”¨è‡ªé€‚åº”æ—©åœ
   config.adaptive_early_stopping = True
   ```

5. **ä¸­æ–‡æ˜¾ç¤ºä¸ºæ–¹æ¡†**

    ```bash
    # è¿è¡Œå­—ä½“è¯Šæ–­
    python font_diagnosis.py

    # å®‰è£…ä¸­æ–‡å­—ä½“
    python install_chinese_fonts.py
    ```

6. **ä¼˜åŒ–å™¨ä¸å¯ç”¨**

    ```bash
    # æ£€æŸ¥ä¾èµ–
    python main.py info --check-deps

    # å®‰è£…ç¼ºå¤±ä¾èµ–
    pip install scikit-optimize
    ```

7. **å‚æ•°éªŒè¯å¤±è´¥**

    ```bash
    # æ£€æŸ¥å‚æ•°é…ç½®
    python main.py config validate config.json

    # ç”Ÿæˆé»˜è®¤é…ç½®
    python main.py config generate
    ```

### æ—¥å¿—å’Œè°ƒè¯•

```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
python main.py optimize --verbose --log-file optimization.log

# ä¿å­˜è¯¦ç»†æŠ¥å‘Š
python main.py optimize --save-plots --output results.json
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘ç¯å¢ƒæ­å»º

1. Forké¡¹ç›®
2. åˆ›å»ºå¼€å‘åˆ†æ”¯: `git checkout -b feature/your-feature`
3. å®‰è£…å¼€å‘ä¾èµ–: `pip install -r requirements-dev.txt`
4. è¿è¡Œæµ‹è¯•: `python main.py test`
5. æäº¤æ›´æ”¹: `git commit -am 'Add some feature'`
6. æ¨é€åˆ†æ”¯: `git push origin feature/your-feature`
7. åˆ›å»ºPull Request

### ä»£ç è§„èŒƒ

- éµå¾ªPEP 8ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„ç±»å‹æç¤º
- ç¼–å†™å®Œæ•´çš„æ–‡æ¡£å­—ç¬¦ä¸²
- åŒ…å«å•å…ƒæµ‹è¯•
- ä¿æŒå‘åå…¼å®¹æ€§

### æ‰©å±•æŒ‡å—

#### æ·»åŠ æ–°çš„ä¼˜åŒ–ç®—æ³•

```python
# åœ¨genetic_optimizer_improved.pyä¸­å®ç°æ–°ç®—æ³•
class NewOptimizer:
    def __init__(self, param_space, evaluator, config):
        self.param_space = param_space
        self.evaluator = evaluator
        self.config = config
    
    def optimize(self, n_calls, **kwargs):
        # å®ç°ä¼˜åŒ–é€»è¾‘
        return {
            'best_params': best_params,
            'best_value': best_value,
            'optimizer_name': 'New Optimizer'
        }
```

#### æ·»åŠ æ–°çš„è¯„ä¼°å™¨

```python
# åœ¨mesh_evaluator.pyä¸­æ·»åŠ æ–°è¯„ä¼°å™¨
class CustomEvaluator(MeshEvaluator):
    def evaluate_mesh(self, params):
        # å®ç°è¯„ä¼°é€»è¾‘
        return float(quality_score)
    
    def validate_params(self, params):
        # å®ç°å‚æ•°éªŒè¯
        return True
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ‘¥ ä½œè€…å’Œè´¡çŒ®è€…

- **Chel** - ä¸»è¦å¼€å‘è€…

## ğŸ“§ è”ç³»æ–¹å¼

- GitHub Issues: [é¡¹ç›®Issuesé¡µé¢]
- Email: [è”ç³»é‚®ç®±]

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š
- [scikit-optimize] - è´å¶æ–¯ä¼˜åŒ–åº“
- [numpy] - æ•°å€¼è®¡ç®—åº“
- [matplotlib] - ç»˜å›¾åº“
- [pandas] - æ•°æ®åˆ†æåº“

## ğŸ“š å‚è€ƒèµ„æ–™

- [ANSAå®˜æ–¹æ–‡æ¡£](https://www.beta-cae.com/ansa.htm)
- [è´å¶æ–¯ä¼˜åŒ–åŸç†](https://arxiv.org/abs/1807.02811)
- [é—ä¼ ç®—æ³•å®ç°æŒ‡å—](https://en.wikipedia.org/wiki/Genetic_algorithm)

---

**æ³¨æ„**: æœ¬å·¥å…·ä»…ç”¨äºå­¦æœ¯ç ”ç©¶å’Œå·¥ç¨‹åº”ç”¨ï¼Œä½¿ç”¨å‰è¯·ç¡®ä¿éµå®ˆç›¸å…³è½¯ä»¶è®¸å¯åè®®ã€‚